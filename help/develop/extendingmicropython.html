<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Extending MicroPython in C &mdash; MicroPython 1.16 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MicroPython external C modules" href="cmodules.html" />
    <link rel="prev" title="The public C API" href="publiccapi.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MicroPython
          </a>
              <div class="version">
                1.16
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../library/index.html">MicroPython libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">MicroPython language and implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genrst/index.html">MicroPython differences from CPython</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MicroPython Internals</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="writingtests.html">Writing tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="compiler.html">The Compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="memorymgt.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="library.html">Implementing a Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimizations.html">Optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="qstr.html">MicroPython string interning</a></li>
<li class="toctree-l2"><a class="reference internal" href="maps.html">Maps and Dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="publiccapi.html">The public C API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Extending MicroPython in C</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cmodules.html">MicroPython external C modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="natmod.html">Native machine code in .mpy files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="porting.html">Porting MicroPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">MicroPython license information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyboard/quickref.html">Quick reference for the pyboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp8266/quickref.html">Quick reference for the ESP8266</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp32/quickref.html">Quick reference for the ESP32</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rp2/quickref.html">Quick reference for the RP2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wipy/quickref.html">Quick reference for the WiPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/quickref.html">Quick reference for the UNIX and Windows ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zephyr/quickref.html">Quick reference for the Zephyr port</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MicroPython</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">MicroPython Internals</a> &raquo;</li>
      <li>Extending MicroPython in C</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/develop/extendingmicropython.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="extending-micropython-in-c">
<span id="extendingmicropython"></span><h1>Extending MicroPython in C<a class="headerlink" href="#extending-micropython-in-c" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes options for implementing additional functionality in C, but from code
written outside of the main MicroPython repository. The first approach is useful for building
your own custom firmware with some project-specific additional modules or functions that can
be accessed from Python. The second approach is for building modules that can be loaded at runtime.</p>
<p>Please see the <a class="reference internal" href="library.html#internals-library"><span class="std std-ref">library section</span></a> for more information on building core modules that
live in the main MicroPython repository.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cmodules.html">MicroPython external C modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cmodules.html#structure-of-an-external-c-module">Structure of an external C module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmodules.html#basic-example">Basic example</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmodules.html#compiling-the-cmodule-into-micropython">Compiling the cmodule into MicroPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmodules.html#module-usage-in-micropython">Module usage in MicroPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natmod.html">Native machine code in .mpy files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natmod.html#supported-features-and-limitations">Supported features and limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="natmod.html#defining-a-native-module">Defining a native module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natmod.html#minimal-example">Minimal example</a></li>
<li class="toctree-l2"><a class="reference internal" href="natmod.html#compiling-the-module">Compiling the module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natmod.html#module-usage-in-micropython">Module usage in MicroPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="natmod.html#further-examples">Further examples</a></li>
</ul>
</li>
</ul>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="publiccapi.html" class="btn btn-neutral float-left" title="The public C API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cmodules.html" class="btn btn-neutral float-right" title="MicroPython external C modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright - The MicroPython Documentation is Copyright © 2014-2021, Damien P. George, Paul Sokolovsky, and contributors.
      <span class="lastupdated">Last updated on 08 Nov 2021.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Versions and Downloads</span>
    latest
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="//en/latest">latest</a></dd>
      
    </dl>
    <dl>
      <dt>Downloads</dt>
      
        <dd><a href="//en/latest/micropython-docs.pdf">PDF</a></dd>
      
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
        <dd>
          <a href="https://www.micropython.org">micropython.org</a>
        </dd>
        <dd>
          <a href="https://github.com/micropython/micropython">GitHub</a>
        </dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>